---
import BlockEdit from '@/components/react/BlockEdit';
import { getMarginBottomClass, getMarginTopClass } from '@/lib/utilities';

type Properties = {
  id?: number;
  marginTop?: Parameters<typeof getMarginTopClass>[0];
  marginBottom?: Parameters<typeof getMarginBottomClass>[0];
};

const {
  id,
  marginTop = 'mt-8',
  marginBottom = 'mb-8'
} = Astro.props as Properties;
---

<>
  {
    import.meta.env.BUILD_MODE === 'production' ? (
      <div
        class:list={[
          'block',
          getMarginTopClass(marginTop),
          getMarginBottomClass(marginBottom)
        ]}
      >
        <slot />
      </div>
    ) : (
      <BlockEdit
        marginTop={marginTop}
        marginBottom={marginBottom}
        id={id}
        client:load
      >
        <div
          class:list={[
            'block',
            getMarginTopClass(marginTop),
            getMarginBottomClass(marginBottom)
          ]}
        >
          <slot />
        </div>
      </BlockEdit>
    )
  }
</>
