---
type Props = {
  questionHeading?: string | null;
  answerHeading?: string | null;
  qnaList: {
    question: string;
    answer: string;
  }[];
};

const { questionHeading, answerHeading, qnaList = [] } = Astro.props;
---

{
  questionHeading && answerHeading && (
    <div class='flex font-serif text-2xl font-bold uppercase text-re-blue'>
      <div class='bold w-1/2 mr-1 md:px-10 md:py-5 text-left md:text-right'>{questionHeading}</div>
      <div class='bold md:ml-20 w-1/2 ml-1 md:px-10 md:py-5 text-right md:text-left'>{answerHeading}</div>
    </div>
  )
}
{
  qnaList.map((item, index) => {
    const isFirst = index === 0;
    const isLast = index === qnaList.length - 1;
    return (
      <div class='relative -mx-8 md:mx-0 md:flex items-stretch text-xl text-re-blue'>
        <div
          class:list={[
            'md:flex md:w-1/2 items-center justify-start md:justify-end md:px-10 py-5 text-left md:text-right',
            isFirst && 'md:pt-10',
            isLast && 'md:pb-10'
          ]}
        >
          <div class="hyphens-auto w-fit max-w-[75%] md:max-w-none bg-re-gray md:bg-transparent p-5 md:p-0 rounded-r-3xl">
            {item.question}
          </span>
        </div>
        <div
          class:list={[
            'hidden md:block absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2',
            isFirst && 'md:pt-5',
            isLast && 'md:pb-5'
          ]}
        >
          <div class='h-8 w-8 -translate-x-2 rotate-45 border-r-[8px] border-t-[8px] border-re-turquoise' />
        </div>
        <div
          class:list={[
            'md:ml-20 md:flex md:w-1/2 items-center justify-end md:justify-start text-right md:text-left md:bg-re-turquoise-light md:px-10 md:py-5',
            isFirst && 'md:pt-10',
            isLast && 'md:rounded-br-[70px] md:pb-10'
          ]}
        >
          <div class="hyphens-auto w-fit max-w-[75%] md:max-w-none ml-auto md:ml-0 bg-re-turquoise-light md:bg-transparent p-5 md:p-0 rounded-l-3xl">
            {item.answer}
          </span>
        </div>
      </div>
    );
  })
}
