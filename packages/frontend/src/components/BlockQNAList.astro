---
type Props = {
  questionHeading?: string | null;
  answerHeading?: string | null;
  qnaList: {
    question: string;
    answer: string;
  }[];
};

const { questionHeading, answerHeading, qnaList = [] } = Astro.props;
---

{
  questionHeading && answerHeading && (
    <div class='flex font-serif text-2xl font-bold uppercase text-re-blue'>
      <div class='bold mr-1 w-1/2 text-left md:px-10 md:py-5 md:text-right'>
        {questionHeading}
      </div>
      <div class='bold ml-1 w-1/2 text-right md:ml-20 md:px-10 md:py-5 md:text-left'>
        {answerHeading}
      </div>
    </div>
  )
}
{
  qnaList.map((item, index) => {
    const isFirst = index === 0;
    const isLast = index === qnaList.length - 1;
    return (
      <div class='relative -mx-8 items-stretch lg:text-xl text-re-blue md:mx-0 md:flex'>
        <div
          class:list={[
            'items-center justify-start py-5 text-left md:flex md:w-1/2 md:justify-end md:px-10 md:text-right',
            isFirst && 'md:pt-10',
            isLast && 'md:pb-10'
          ]}
        >
          <div class='w-fit max-w-[85%] hyphens-auto rounded-r-3xl bg-re-gray p-5 md:max-w-none md:bg-transparent md:p-0'>
            {item.question}
          </div>
        </div>
        <div
          class:list={[
            'absolute left-1/2 top-1/2 hidden -translate-x-1/2 -translate-y-1/2 md:block',
            isFirst && 'md:pt-5',
            isLast && 'md:pb-5'
          ]}
        >
          <div class='h-8 w-8 -translate-x-2 rotate-45 border-r-[8px] border-t-[8px] border-re-turquoise' />
        </div>
        <div
          class:list={[
            'items-center justify-end text-right md:ml-20 md:flex md:w-1/2 md:justify-start md:bg-re-turquoise-light md:px-10 md:py-5 md:text-left',
            isFirst && 'md:pt-10',
            isLast && 'md:rounded-br-[70px] md:pb-10'
          ]}
        >
          <div class='ml-auto w-fit max-w-[75%] hyphens-auto rounded-l-3xl bg-re-turquoise-light p-5 md:ml-0 md:max-w-none md:bg-transparent md:p-0'>
            {item.answer}
          </div>
        </div>
      </div>
    );
  })
}
